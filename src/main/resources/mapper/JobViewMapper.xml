<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.sysu.sse.recruitment.job_platform_api.server.mapper.JobViewMapper">

	<insert id="insert" parameterType="cn.sysu.sse.recruitment.job_platform_api.pojo.entity.JobView">
		INSERT INTO job_views (job_id, viewer_user_id, client_ip, user_agent)
		VALUES (#{jobId}, #{viewerUserId}, #{clientIp}, #{userAgent})
	</insert>

	<select id="countByJob" parameterType="int" resultType="long">
		SELECT COUNT(1) FROM job_views WHERE job_id = #{jobId}
	</select>
</mapper>

